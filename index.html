<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="./goo.min.js"></script>
</head>
<body>
    <div class="wrapper"></div>
    <script>
        let app = goo(document.body.children[0]);

        app.setState(['button1', 'button2', 'button3']);

        app.use({action: {
            type: 'INCREMENT',
            target: [],
            handler: (target, params) => {
                target[params] = 'button' + (1 + +target[params][6]);
                return target;
            }
        }})

        app((state) => (
            ['div', {}, [
                ['div.buttons', {}, state.map((name, i) => (
                    ['button', {onclick: () => app.act('INCREMENT', i)}, [
                        name
                    ]]
                ))],
                ['div.history', {}, [
                    ['button', {onclick: () => app.undo()}, [
                        'UNDO'
                    ]],
                    ['button', {onclick: () => app.redo()}, [
                        'REDO'
                    ]]
                ]],
            ]]
        ));
    </script>
</body>
</html>
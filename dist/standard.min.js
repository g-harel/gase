!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,e){"use strict";var r=function(){var t=function(t){return void 0!==t},n=function(t){return null===t},e=function(t){return Array.isArray(t)},r=function(t){return"function"==typeof t},o=function(t){return"string"==typeof t},i=function(t){return"number"==typeof t},a=function(t){return"boolean"==typeof t},u=function(t){return!!t&&t.constructor===Object},c=function(t){return!!(t&&t.tagName&&t.nodeName&&t.ownerDocument&&t.removeAttribute)},s=function(t){return t instanceof RegExp},f=function(){return"undefined"!=typeof window},d=function(n){if(t(n))return JSON.parse(JSON.stringify(n))},l=function(t,n){for(var e=arguments.length,r=Array(e>2?e-2:0),o=2;o<e;o++)r[o-2]=arguments[o];var i=function(t){return"\n>>> "+String(JSON.stringify(t,function(t,n){return"function"==typeof n?n.toString():n},2)).replace(/\n/g,"\n    ")};if(!t)throw new Error("@okwolo."+n+r.map(i).join(""))};return{deepCopy:d,assert:l,isDefined:t,isNull:n,isArray:e,isFunction:r,isString:o,isNumber:i,isBoolean:a,isObject:u,isNode:c,isRegExp:s,isBrowser:f,makeQueue:function(){var n=[],e=function(){var e=n[0];t(e)&&e()};return{add:function(t){l(r(t),"utils.makeQueue.add : added objects must be a function",t),n.push(t),1===n.length&&e()},done:function(){n.shift(),e()}}},makeBus:function(){var n={},e={},i=function(e,i){l(o(e),"utils.bus : handler type is not a string",e),l(r(i),"utils.bus : handler is not a function",i),t(n[e])||(n[e]=[]),n[e].push(i)},a=function(r){l(u(r),"utils.bus : event is not an object",r);var i=r.name;if(t(i)){if(l(o(i),"utils.bus : event name is not a string",i),t(e[i]))return;e[i]=!0}Object.keys(r).forEach(function(e){t(n[e])&&n[e].forEach(function(t){return t(r[e])})})};return Object.assign(a,{on:i})}}};t.exports=r},function(t,n,e){"use strict";var r=e(2);t.exports=r({modules:[e(3),e(4),e(5),e(6),e(9),e(10)],options:{kit:"standard",browser:!0}})},function(t,n,e){"use strict";var r=e(0)(),o=r.isFunction,i=r.isDefined,a=r.isObject,u=r.assert,c=r.isBrowser,s=r.makeBus,f=function(t){var n=t.modules,e=t.options,r=function(t,r){e.browser&&(i(r)||(u(c(),"app : must be run in a browser environment"),r=window));var f=function(){},d=function(){return f.apply(void 0,arguments)};return d.emit=s(),d.use=s(),d.use.on("api",function(t){u(a(t),"core.use.api : additional api is not an object",t),Object.assign(d,t)}),d.use.on("primary",function(t){u(o(t),"core.use.primary : primary is not a function",t),f=t}),n.forEach(function(t){t(d,r)}),i(t)&&d.use({target:t}),d};return c()&&(r.kit=e.kit,r.version="1.3.0",i(window.okwolo)||(window.okwolo=r),window.okwolo[e.kit]=r),r};t.exports=f},function(t,n,e){"use strict";var r=e(0)(),o=r.assert,i=r.isDefined,a=r.isFunction,u=function(t){var n=t.emit,e=t.use,r=void 0,u=void 0,c=void 0,s=void 0,f=void 0,d=void 0,l=void 0,p=void 0,h=void 0,v=function(t){var n=u(t);return s&&(n=s(n)),n=c(n),f&&(n=f(n)),n},g=!1,m=!1,b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!g;if(!m){if(!(i(r)&&i(u)&&i(h)&&i(c)))return;m=!0}if(!t)return void(p=l(r,v(h),p));p=d(r,v(h)),g=!0};n.on("state",function(t){o(i(t),"dom.emit.state : new state is not defined",t),h=t,b()}),e.on("target",function(t){r=t,b(!0)}),e.on("builder",function(t){o(a(t),"dom.use.builder : builder is not a function",t),u=t,b()}),e.on("draw",function(t){o(a(t),"dom.use.draw : new draw is not a function",t),d=t,b(!0)}),e.on("update",function(t){o(a(t),"dom.use.update : new target updater is not a function",t),l=t,b()}),e.on("build",function(t){o(a(t),"dom.use.build : new build is not a function",t),c=t,b()}),e.on("prebuild",function(t){o(a(t),"dom.use.prebuild : new prebuild is not a function",t),s=t,b()}),e.on("postbuild",function(t){o(a(t),"dom.use.postbuild : new postbuild is not a function",t),f=t,b()}),e({api:{update:function(){b()}}}),e({primary:function(t){e({builder:t()})}})};t.exports=u},function(t,n,e){"use strict";var r=e(0)(),o=r.assert,i=r.deepCopy,a=r.makeQueue,u=r.isDefined,c=r.isArray,s=r.isFunction,f=r.isString,d=function(t){var n=t.emit,e=t.use,r={},d=[],l=[],p=a(),h=function(t,e,a){var d=i(t);o(u(r[e]),"state.execute : action type '"+e+"' was not found"),r[e].forEach(function(n){var r=n.target;s(r)&&(r=r(i(t),a),o(c(r),"state.execute : dynamic target of action "+e+" is not an array",r),r.forEach(function(t){o(f(t),"state.execute : dynamic target of action "+e+" is not an array of strings",r)}));var l=i(d);0===r.length&&(d=n.handler(l,a),o(u(d),"state.execute : result of action "+e+" on target @state is undefined"));var p=d;r.forEach(function(t,i){if(o(u(l[t]),"state.execute : target of action "+e+" does not exist: @state."+r.slice(0,i+1).join(".")),i<r.length-1)return l=l[t],void(p=p[t]);var c=n.handler(l[t],a);o(u(c),"state.execute : result of action "+e+" on target @state."+r.join(".")+" is undefined"),p[t]=c})}),n({state:i(d)}),l.forEach(function(t){t(i(d),e,a)}),p.done()},v=function(t,n,e){var r=[function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;h(r,o,i)}];d.reverse().forEach(function(o,a){r[a+1]=function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t=u,n=c,e=s,o(r[a],i(u),c,s)}}),r[d.length](i(t),n,e)};n.on("act",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.state,e=t.type,r=t.params,i=void 0===r?{}:r;o(f(e),"state.act : action type is not a string",e),o(u(n),"state.act : cannot call action "+e+" on an undefined state",n),p.add(function(){v(n,e,i)})}),e.on("action",function(t){[].concat(t).forEach(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,e=t.handler,i=t.target;if(o(f(n),"state.use.action : action's type is not a string",t,n),o(s(e),"state.use.action : handler for action "+n+" is not a function",t,e),c(i)?i.forEach(function(e){o(f(e),"state.use.action : target of action "+n+" is not an array of strings",t,i)}):o(s(i),"state.use.action : target of action "+n+" is not valid",i),void 0===r[n])return void(r[n]=[t]);r[n].push(t)})}),e.on("middleware",function(t){[].concat(t).forEach(function(t){o(s(t),"state.use.middleware : middleware is not a function",t),d.push(t)})}),e.on("watcher",function(t){[].concat(t).forEach(function(t){o(s(t),"state.use.watcher : watcher is not a function",t),l.push(t)})}),e({action:{type:"SET_STATE",target:[],handler:function(t,n){return n}}});var g={},m=g;n.on("state",function(t){m=t});var b=function(t,e){o(m!==g||"SET_STATE"===t,"act : cannot act on state before it has been set"),n({act:{state:m,type:t,params:e}})};e({api:{act:b,setState:function(t){if(s(t))return void b("SET_STATE",t(m));b("SET_STATE",t)},getState:function(){return o(m!==g,"getState : cannot get state before it has been set"),i(m)}}})};t.exports=d},function(t,n,e){"use strict";var r=e(0)(),o=r.assert,i=r.isString,a=r.isObject,u=r.isFunction,c=r.makeQueue,s=function(t,n){var e=t.emit,r=t.use,s=null!==n.document.origin&&"null"!==n.document.origin,f="",d=void 0,l=void 0,p=void 0,h=!1,v=c(),g=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];o(u(p),"router.fetch : fetch is not a function",p),p.apply(void 0,[d].concat(n))},m=function(t){var n=f.replace(/([^\w])/g,"\\$1");return t.replace(new RegExp("^"+n),"")||""},b=n.location.pathname;s||(b=""),n.onpopstate=function(){b=m(n.location.pathname),g(b)},e.on("redirect",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.path,r=t.params,u=void 0===r?{}:r;o(i(e),"router.redirect : path is not a string",e),o(a(u),"router.redirect : params is not an object",u),v.add(function(){b=e,s?n.history.pushState({},"",(f+b).replace(/^\/C\:/,"")):console.log("@okwolo/router:: path changed to\n>>> "+b),g(b,u),v.done()})}),e.on("show",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.path,e=t.params,r=void 0===e?{}:e;o(i(n),"router.show : path is not a string",n),o(a(r),"router.show : params is not an object",r),v.add(function(){g(n,r),v.done()})}),r.on("route",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.path,e=t.handler;o(i(n),"router.use.route : path is not a string",n),o(u(e),"router.use.route : handler is not a function",n,e),o(u(l),"route.use.route : register is not a function",l),d=l(d,n,e),h||(h=!!g(b))}),r.on("base",function(t){o(i(t),"router.use.base : base url is not a string",t),f=t,b=m(b),g(b)}),r.on("register",function(t){o(u(t),"router.use.register : register is not a function",l),l=t}),r.on("fetch",function(t){o(u(t),"router.use.fetch : fetch is not a function",p),p=t}),r({api:{redirect:function(t,n){e({redirect:{path:t,params:n}})},show:function(t,n){e({show:{path:t,params:n}})}}}),r({primary:function(t,n){if(u(t))return void r({builder:t()});r({route:{path:t,handler:function(t){r({builder:n(t)})}}})}})};t.exports=s},function(t,n,e){"use strict";var r=e(7);t.exports=function(t){(0,t.use)({register:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],e=arguments[2];return t.push({pattern:r(n,[],{strict:!0}),handler:e}),t},fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!1;return t.find(function(t){var o=t.pattern.exec(n);if(null!==o)return r=!0,o.shift(),t.pattern.keys.forEach(function(t,n){e[t.name]=o[n]}),t.handler(e),r}),r}})}},function(t,n,e){function r(t,n){for(var e,r=[],o=0,i=0,a="",u=n&&n.delimiter||"/";null!=(e=b.exec(t));){var f=e[0],d=e[1],l=e.index;if(a+=t.slice(i,l),i=l+f.length,d)a+=d[1];else{var p=t[i],h=e[2],v=e[3],g=e[4],m=e[5],y=e[6],w=e[7];a&&(r.push(a),a="");var x=null!=h&&null!=p&&p!==h,E="+"===y||"*"===y,O="?"===y||"*"===y,j=e[2]||u,S=g||m;r.push({name:v||o++,prefix:h||"",delimiter:j,optional:O,repeat:E,partial:x,asterisk:!!w,pattern:S?s(S):w?".*":"[^"+c(j)+"]+?"})}}return i<t.length&&(a+=t.substr(i)),a&&r.push(a),r}function o(t,n){return u(r(t,n))}function i(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function a(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function u(t){for(var n=new Array(t.length),e=0;e<t.length;e++)"object"==typeof t[e]&&(n[e]=new RegExp("^(?:"+t[e].pattern+")$"));return function(e,r){for(var o="",u=e||{},c=r||{},s=c.pretty?i:encodeURIComponent,f=0;f<t.length;f++){var d=t[f];if("string"!=typeof d){var l,p=u[d.name];if(null==p){if(d.optional){d.partial&&(o+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(m(p)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var h=0;h<p.length;h++){if(l=s(p[h]),!n[f].test(l))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(l)+"`");o+=(0===h?d.prefix:d.delimiter)+l}}else{if(l=d.asterisk?a(p):s(p),!n[f].test(l))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+l+'"');o+=d.prefix+l}}else o+=d}return o}}function c(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function s(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function f(t,n){return t.keys=n,t}function d(t){return t.sensitive?"":"i"}function l(t,n){var e=t.source.match(/\((?!\?)/g);if(e)for(var r=0;r<e.length;r++)n.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return f(t,n)}function p(t,n,e){for(var r=[],o=0;o<t.length;o++)r.push(g(t[o],n,e).source);return f(new RegExp("(?:"+r.join("|")+")",d(e)),n)}function h(t,n,e){return v(r(t,e),n,e)}function v(t,n,e){m(n)||(e=n||e,n=[]),e=e||{};for(var r=e.strict,o=!1!==e.end,i="",a=0;a<t.length;a++){var u=t[a];if("string"==typeof u)i+=c(u);else{var s=c(u.prefix),l="(?:"+u.pattern+")";n.push(u),u.repeat&&(l+="(?:"+s+l+")*"),l=u.optional?u.partial?s+"("+l+")?":"(?:"+s+"("+l+"))?":s+"("+l+")",i+=l}}var p=c(e.delimiter||"/"),h=i.slice(-p.length)===p;return r||(i=(h?i.slice(0,-p.length):i)+"(?:"+p+"(?=$))?"),i+=o?"$":r&&h?"":"(?="+p+"|$)",f(new RegExp("^"+i,d(e)),n)}function g(t,n,e){return m(n)||(e=n||e,n=[]),e=e||{},t instanceof RegExp?l(t,n):m(t)?p(t,n,e):h(t,n,e)}var m=e(8);t.exports=g,t.exports.parse=r,t.exports.compile=o,t.exports.tokensToFunction=u,t.exports.tokensToRegExp=v;var b=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(t,n){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,n,e){"use strict";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var o=function(){function t(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=e(0)(),a=i.assert,u=i.isDefined,c=i.isNull,s=i.isArray,f=i.isString,d=i.isNumber,l=i.isBoolean,p=i.isNode,h=i.isObject,v=i.isFunction,g=function t(){for(var n=arguments.length,e=Array(n),o=0;o<n;o++)e[o]=arguments[o];return e.map(function(n){return f(n)?n:s(n)?t.apply(void 0,r(n)):h(n)?t(Object.keys(n).map(function(t){return n[t]&&t})):void 0}).filter(Boolean).join(" ")},m=function(t,n){return Object.keys(Object.assign({},t,n)).filter(function(e){var r=t[e],o=n[e];return!(!v(r)&&!v(o))||r!==o})},b=function t(n){if(l(n)&&(n=null),c(n))return{text:""};if(d(n)&&(n=String(n)),f(n))return{text:n};if(a(s(n),"dom.build : vdom object is not a recognized type",n),v(n[0])){var e=n,r=o(e,3),i=r[0],p=r[1],m=void 0===p?{}:p,b=r[2],y=void 0===b?[]:b;return a(h(m),"dom.build : component's props is not an object",n,m),a(s(y),"dom.build : component's children is not an array",n,y),t(i(Object.assign({},m,{children:y})))}var w=n,x=o(w,3),E=x[0],O=x[1],j=void 0===O?{}:O,S=x[2],D=void 0===S?[]:S;a(f(E),"dom.build : tag property is not a string",n,E),a(h(j),"dom.build : attributes is not an object",n,j),a(s(D),"dom.build : children of vdom object is not an array",n,D);var A=/^ *(\w+) *(?:#([-\w\d]+))? *((?:\.[-\w\d]+)*)? *(?:\|\s*([^\s]{1}[^]*?))? *$/.exec(E);a(s(A),"dom.build : tag property cannot be parsed",E);var k=o(A,5),N=k[1],T=k[2],M=k[3],R=k[4];return u(T)&&!u(j.id)&&(j.id=T.trim()),(u(j.className)||u(M))&&(j.className=g(j.className,M).replace(/\./g," ").replace(/  +/g," ").trim()),u(R)&&(u(j.style)?(R=(R+";").replace(/;;$/g,";"),j.style+=R+j.style):j.style=R),{tagName:N,attributes:j,children:D.map(t)}};t.exports=function(t,n){var e=t.use,r=function t(e){if(u(e.text))return e.DOM=n.document.createTextNode(e.text),e;var r=n.document.createElement(e.tagName);return Object.assign(r,e.attributes),Object.keys(e.children).forEach(function(n){var o=t(e.children[n]),i=o.DOM;r.appendChild(i)}),e.DOM=r,e};e({draw:function(t,e){return a(p(t),"dom.draw : target is not a DOM node",t),r(e),n.requestAnimationFrame(function(){t.innerHTML="",t.appendChild(e.DOM)}),e},update:function(t,e,o){a(p(t),"dom.update : target is not a DOM node",t);var i=function t(n,e,o,i){if(u(n)||u(e)){if(!u(n))return o.children[i]=r(e),void o.DOM.appendChild(o.children[i].DOM);if(!u(e))return o.DOM.removeChild(n.DOM),void delete o.children[i];if(n.tagName!==e.tagName){var a=n.DOM,c=r(e);return o.DOM.replaceChild(c.DOM,a),void Object.assign(n,{DOM:void 0,text:void 0,tagName:void 0,attributes:void 0,children:void 0},c)}if(3===n.DOM.nodeType)return void(n.text!==e.text&&(n.DOM.nodeValue=e.text,n.text=e.text));m(n.attributes,e.attributes).forEach(function(t){n.attributes[t]=e.attributes[t],n.DOM[t]=e.attributes[t]});for(var s=Math.max(n.children.length,e.children.length),f=0;f<s;++f)t(n.children[f],e.children[f],n,f)}};return n.requestAnimationFrame(function(){i(o,e,{DOM:t,children:[o]},0)}),o},build:b})}},function(t,n,e){"use strict";var r=e(0)(),o=r.isFunction,i=r.assert;t.exports=function(t){var n=t.use,e=t.act;i(o(e),"app : cannot use history blob without an action handler");var r={},a=[],u=r,c=[],s={type:"UNDO",target:[],handler:function(){return a.length>0&&a[a.length-1]!==r?(c.push(u),a.pop()):u}},f={type:"REDO",target:[],handler:function(){return c.length>0?(a.push(u),c.pop()):u}},d={type:"__RESET__",target:[],handler:function(){return a=[],c=[],u}},l=function(t,n){"__RESET__"!==n&&"*"!==n[0]&&("UNDO"!==n&&"REDO"!==n&&(c=[],a.push(u),a.length>21&&a.shift()),u=t)};n({api:{undo:function(){e("UNDO")},redo:function(){e("REDO")}},action:[s,f,d],watcher:l})}}]);
!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";t.exports=function(){var t=function(t){return void 0!==t},e=function(t){return"function"==typeof t},n=function(t){return"string"==typeof t},r=function(t){return!!t&&t.constructor===Object},i=function(t){var e=JSON.stringify(t,function(t,e){return"function"==typeof e?e.toString():e},2);return"\n>>> "+String(e).replace(/\n/g,"\n    ")},o=function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(!t)throw new Error("@okwolo."+e+r.map(i).join(""))};return{deepCopy:function(e){if(t(e))return JSON.parse(JSON.stringify(e))},assert:o,isDefined:t,isNull:function(t){return null===t},isArray:function(t){return Array.isArray(t)},isFunction:e,isString:n,isNumber:function(t){return"number"==typeof t},isBoolean:function(t){return"boolean"==typeof t},isObject:r,isNode:function(t){return!!(t&&t.tagName&&t.nodeName&&t.ownerDocument&&t.removeAttribute)},isRegExp:function(t){return t instanceof RegExp},isBrowser:function(){return"undefined"!=typeof window},makeQueue:function(){var n=[],r=function(){var e=n[0];t(e)&&e()};return{add:function(t){o(e(t),"utils.makeQueue.add : added objects must be a function",t),n.push(t),1===n.length&&r()},done:function(){n.shift(),r()}}},makeBus:function(){var i={},u={};return Object.assign(function(e){o(r(e),"utils.bus : event is not an object",e);var a=e.name;if(t(a)){if(o(n(a),"utils.bus : event name is not a string",a),t(u[a]))return;u[a]=!0}for(var s=Object.keys(e),c=0;c<s.length;++c){var d=s[c];if(t(i[d]))for(var f=0;f<i[d].length;++f)i[d][f](e[d])}},{on:function(r,u){o(n(r),"utils.bus : handler type is not a string",r),o(e(u),"utils.bus : handler is not a function",u),t(i[r])||(i[r]=[]),i[r].push(u)}})}}}},function(t,e,n){"use strict";var r=n(2);t.exports=r({modules:[n(3),n(4),n(5),n(6),n(7),n(8),n(9)],options:{kit:"lite",browser:!0}})},function(t,e,n){"use strict";var r=n(0)(),i=r.isFunction,o=r.isDefined,u=r.isObject,a=r.assert,s=r.isBrowser,c=r.makeBus;t.exports=function(t){var e=t.modules,n=void 0===e?[]:e,r=t.options,d=void 0===r?{}:r,f=function(t,e){d.browser&&(o(e)||(a(s(),"app : must be run in a browser environment"),e=window));var r=function(){},f=function(){return r.apply(void 0,arguments)};return f.emit=c(),(f.use=c()).on("api",function(t){a(u(t),"core.use.api : additional api is not an object",t),Object.assign(f,t)}),f.use.on("primary",function(t){a(i(t),"core.use.primary : primary is not a function",t),r=t}),n.forEach(function(t){t({emit:f.emit,use:f.use},e)}),o(t)&&f.use({target:t}),f};return s()&&(f.kit=d.kit,f.version="2.0.0",o(window.okwolo)||(window.okwolo=f),window.okwolo[d.kit]=f),f}},function(t,e,n){"use strict";var r=n(0)(),i=r.assert,o=r.isDefined,u=r.isFunction;t.exports=function(t){var e=t.emit,n=t.use,r=void 0,a=void 0,s=void 0,c=void 0,d=void 0,f=void 0,l=void 0,p=void 0,v=void 0,h=function(t){var e=a(t);return c&&(e=c(e)),e=s(e),d&&(e=d(e)),e};n.on("target",function(t){r=t,e({update:!0})}),n.on("builder",function(t){i(u(t),"view.use.builder : builder is not a function",t),a=t,e({update:!1})}),n.on("draw",function(t){i(u(t),"view.use.draw : new draw is not a function",t),f=t,e({update:!0})}),n.on("update",function(t){i(u(t),"view.use.update : new target updater is not a function",t),l=t,e({update:!1})}),n.on("build",function(t){i(u(t),"view.use.build : new build is not a function",t),s=t,e({update:!1})}),n.on("prebuild",function(t){i(u(t),"view.use.prebuild : new prebuild is not a function",t),c=t,e({update:!1})}),n.on("postbuild",function(t){i(u(t),"view.use.postbuild : new postbuild is not a function",t),d=t,e({update:!1})}),e.on("state",function(t){i(o(t),"view.emit.state : new state is not defined",t),v=t,e({update:!1})});var g=!1,b=!1;e.on("update",function(t){if(!b){if(!(o(r)&&o(a)&&o(v)&&o(s)))return;b=!0}t||!g?(p=f(r,h(v)),g=!0):p=l(r,h(v),p)}),n({api:{update:function(){return e({update:!1})}}}),n({primary:function(t){return n({builder:t()})}})}},function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(0)(),o=i.assert,u=i.isDefined,a=i.isNull,s=i.isArray,c=i.isString,d=i.isNumber,f=i.isBoolean,l=i.isObject,p=i.isFunction,v=function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map(function(e){return c(e)?e:s(e)?t.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e)):l(e)?t(Object.keys(e).map(function(t){return e[t]&&t})):void 0}).filter(Boolean).join(" ")},h=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root";if(f(e)&&(e=null),a(e))return{text:""};if(d(e)&&(e=String(e)),c(e))return{text:e};if(o(s(e),"view.build : vdom object is not a recognized type",n,e),p(e[0])){var i=r(e,3),h=i[0],g=i[1],b=void 0===g?{}:g,m=i[2],w=void 0===m?[]:m;return o(l(b),"view.build : component's props is not an object",n,e,b),o(s(w),"view.build : component's children is not an array",n,e,w),t(h(Object.assign({},b,{children:w}),n))}var y=r(e,3),O=y[0],x=y[1],j=void 0===x?{}:x,D=y[2],k=void 0===D?[]:D;o(c(O),"view.build : tag property is not a string",n,e,O),o(l(j),"view.build : attributes is not an object",n,e,j),o(s(k),"view.build : children of vdom object is not an array",n,e,k);var M=/^ *(\w+) *(?:#([-\w\d]+))? *((?:\.[-\w\d]+)*)? *(?:\|\s*([^\s]{1}[^]*?))? *$/.exec(O);o(s(M),"view.build : tag property cannot be parsed",n,O);var N=r(M,5),S=N[1],A=N[2],C=N[3],E=N[4];u(A)&&!u(j.id)&&(j.id=A.trim()),(u(j.className)||u(C))&&(j.className=v(j.className,C).replace(/\./g," ").replace(/  +/g," ").trim()),u(E)&&(u(j.style)?(E=(E+";").replace(/;;$/g,";"),j.style=E+j.style):j.style=E),n+=" -> "+O;for(var F={},B=[],$=0;$<k.length;++$){var R=$,T=t(k[$],n);T.attributes&&"key"in T.attributes&&(R=T.attributes.key,o(d(R)||c(R),"view.build : invalid element key type",n,R),o(String(R).match(/^[\w\d-_]+$/g),"view.build : invalid character in element key",n,R)),R=String(R),o(!F[R],"view.build : duplicate child key",n,R),B.push(R),F[R]=T}return{tagName:S,attributes:j,children:F,childOrder:B}};t.exports=function(t){(0,t.use)({build:h})}},function(t,e,n){"use strict";var r=n(0)(),i=r.assert,o=r.isDefined,u=r.isNode,a=r.isFunction;t.exports=function(t,e){var n=function t(n){if(o(n.text))return n.DOM=e.document.createTextNode(n.text),n;var r=e.document.createElement(n.tagName);Object.assign(r,n.attributes);for(var i=0;i<n.childOrder.length;++i){var u=n.childOrder[i],a=t(n.children[u]).DOM;r.appendChild(a)}return n.DOM=r,n};(0,t.use)({draw:function(t,r){return i(u(t),"view.dom.draw : target is not a DOM node",t),n(r),e.requestAnimationFrame(function(){t.innerHTML="",t.appendChild(r.DOM)}),r},update:function(t,r,s){i(u(t),"view.dom.update : target is not a DOM node",t);var c=function t(e,r,i,u){if(!o(e))return i.children[u]=n(r),void i.DOM.appendChild(i.children[u].DOM);if(!o(r))return i.DOM.removeChild(e.DOM),void delete i.children[u];if(e.tagName!==r.tagName){var s=e.DOM,c=n(r);return i.DOM.replaceChild(c.DOM,s),void Object.assign(e,{DOM:void 0,text:void 0,tagName:void 0,attributes:void 0,children:void 0,childOrder:void 0},c)}if(3!==e.DOM.nodeType){for(var d=function(t,e){for(var n=Object.keys(Object.assign({},t,e)),r=[],i=0;i<n.length;++i){var o=n[i],u=t[o],s=e[o];(a(u)||a(s))&&r.push(o),u!==s&&r.push(o)}return r}(e.attributes,r.attributes),f=0;f<d.length;++f){var l=d[f];e.attributes[l]=r.attributes[l],e.DOM[l]=r.attributes[l]}var p=e.childOrder.slice();e.childOrder=r.childOrder;for(var v=Object.keys(Object.assign({},e.children,r.children)),h=0;h<v.length;++h){var g=v[h];e.children[g]?r.children[g]||p.splice(p.indexOf(g),1):p.push(g),t(e.children[g],r.children[g],e,g)}if(p.length){for(var b=function(t,e){for(var n=e.length,r=n/2,i=0,o=0,u=0;u<n;++u){for(var a=t.indexOf(e[u]),s=Math.min(n-a,n-u),c=1,d=1;d<s&&e[u+d]===t[a+d];++d)c+=1;if(c>i&&(i=c,o=u),i>=r)break}return{start:o,end:o+i-1}}(p,r.childOrder),m=b.start,w=b.end,y=r.childOrder.slice(0,m),O=y.length-1;O>=0;--O){var x=y[O];e.DOM.insertBefore(e.children[x].DOM,e.DOM.firstChild)}for(var j=r.childOrder.slice(w+1,1/0),D=0;D<j.length;++D){var k=j[D];e.DOM.appendChild(e.children[k].DOM)}}}else e.text!==r.text&&(e.DOM.nodeValue=r.text,e.text=r.text)};return e.requestAnimationFrame(function(){try{c(s,r,{DOM:t,children:{root:s}},"root")}catch(t){console.error("view.dom.update : "+t)}}),s}})}},function(t,e,n){"use strict";var r=n(0)(),i=r.assert,o=r.isString,u=r.isObject,a=r.isFunction,s=r.makeQueue;t.exports=function(t,e){var n=t.emit,r=t.use,c=null!==e.document.origin&&"null"!==e.document.origin,d="",f=void 0,l=void 0,p=void 0,v=!1,h=s(),g=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];i(a(p),"router : fetch is not a function",p),p.apply(void 0,[f].concat(e))},b=function(t){var e=d.replace(/([^\w])/g,"\\$1");return t.replace(new RegExp("^"+e),"")||""},m=e.location.pathname;c||(m=""),e.onpopstate=function(){m=b(e.location.pathname),g(m)},r.on("route",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.path,n=t.handler;i(o(e),"router.use.route : path is not a string",e),i(a(n),"router.use.route : handler is not a function",e,n),i(a(l),"route.use.route : register is not a function",l),f=l(f,e,n),v||(v=!!g(m))}),r.on("base",function(t){i(o(t),"router.use.base : base url is not a string",t),d=t,m=b(m),g(m)}),r.on("register",function(t){i(a(t),"router.use.register : register is not a function",l),l=t}),r.on("fetch",function(t){i(a(t),"router.use.fetch : fetch is not a function",p),p=t}),n.on("redirect",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.path,r=t.params,a=void 0===r?{}:r;i(o(n),"router.redirect : path is not a string",n),i(u(a),"router.redirect : params is not an object",a),h.add(function(){m=n,c?e.history.pushState({},"",(d+m).replace(/^\/C\:/,"")):console.log("@okwolo/router:: path changed to\n>>> "+m),g(m,a),h.done()})}),n.on("show",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.path,n=t.params,r=void 0===n?{}:n;i(o(e),"router.show : path is not a string",e),i(u(r),"router.show : params is not an object",r),h.add(function(){g(e,r),h.done()})}),r({api:{redirect:function(t,e){return n({redirect:{path:t,params:e}})},show:function(t,e){return n({show:{path:t,params:e}})}}}),r({primary:function(t,e){r(a(t)?{builder:t()}:{route:{path:t,handler:function(t){r({builder:e(t)})}}})}})}},function(t,e,n){"use strict";t.exports=function(t){(0,t.use)({fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!1;return t.find(function(t){var i=t.pattern.exec(e);if(null!==i)return r=!0,i.shift(),t.keys.forEach(function(t,e){n[t.name]=i[e]}),t.handler(n),r}),r}})}},function(t,e,n){"use strict";var r=/:\w+/g;t.exports=function(t){(0,t.use)({register:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=arguments[2],i=(e.match(r)||[]).map(function(t){return{name:t.replace(/^:/g,"")}});return t.push({keys:i,pattern:function(t){var e=t.replace(/([^\w:])/g,"\\$1").replace(r,"([^/]*)");return new RegExp("^"+e+"(:?\\?.*)?$")}(e),handler:n}),t}})}},function(t,e,n){"use strict";var r=n(0)(),i=r.assert,o=r.deepCopy,u=r.isFunction;t.exports=function(t){var e=t.emit,n=t.use,r={},a=r,s=void 0;e.on("state",function(t){a=t}),n.on("handler",function(t){i(u(t),"state.use.handler : handler generator is not a function",t);var e=t(function(){return a});i(u(e),"state.use.handler : handler from generator is not a function",e),s=e}),n({handler:function(){return function(t){e({state:t})}}});n({api:{setState:function(t){var e=u(t)?t(o(a)):t;s(e)},getState:function(){return i(a!==r,"state.getState : cannot get state before it has been set"),o(a)}}})}}]);
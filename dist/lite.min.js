!function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,e){"use strict";t.exports=function(){var t=function(t){return void 0!==t},n=function(t){return"function"==typeof t},e=function(t){return"string"==typeof t},r=function(t){return!!t&&t.constructor===Object},i=function(t){var n=JSON.stringify(t,function(t,n){return"function"==typeof n?n.toString():n},2);return"\n>>> "+String(n).replace(/\n/g,"\n    ")},o=function(t,n){for(var e=arguments.length,r=Array(e>2?e-2:0),o=2;o<e;o++)r[o-2]=arguments[o];if(!t)throw new Error("@okwolo."+n+r.map(i).join(""))};return{deepCopy:function(n){if(t(n))return JSON.parse(JSON.stringify(n))},assert:o,isDefined:t,isNull:function(t){return null===t},isArray:function(t){return Array.isArray(t)},isFunction:n,isString:e,isNumber:function(t){return"number"==typeof t},isBoolean:function(t){return"boolean"==typeof t},isObject:r,isNode:function(t){return!!(t&&t.tagName&&t.nodeName&&t.ownerDocument&&t.removeAttribute)},isRegExp:function(t){return t instanceof RegExp},isBrowser:function(){return"undefined"!=typeof window},makeQueue:function(){var e=[],r=function(){var n=e[0];t(n)&&n()};return{add:function(t){o(n(t),"utils.makeQueue.add : added objects must be a function",t),e.push(t),1===e.length&&r()},done:function(){e.shift(),r()}}},makeBus:function(){var i={},u={};return Object.assign(function(n){o(r(n),"utils.bus : event is not an object",n);var a=n.name;if(t(a)){if(o(e(a),"utils.bus : event name is not a string",a),t(u[a]))return;u[a]=!0}Object.keys(n).forEach(function(e){t(i[e])&&i[e].forEach(function(t){return t(n[e])})})},{on:function(r,u){o(e(r),"utils.bus : handler type is not a string",r),o(n(u),"utils.bus : handler is not a function",u),t(i[r])||(i[r]=[]),i[r].push(u)}})}}}},function(t,n,e){"use strict";var r=e(2);t.exports=r({modules:[e(3),e(4),e(5),e(6),e(7),e(8),e(9)],options:{kit:"lite",browser:!0}})},function(t,n,e){"use strict";var r=e(0)(),i=r.isFunction,o=r.isDefined,u=r.isObject,a=r.assert,s=r.isBrowser,c=r.makeBus;t.exports=function(t){var n=t.modules,e=void 0===n?[]:n,r=t.options,f=void 0===r?{}:r,d=function(t,n){f.browser&&(o(n)||(a(s(),"app : must be run in a browser environment"),n=window));var r=function(){},d=function(){return r.apply(void 0,arguments)};return d.emit=c(),(d.use=c()).on("api",function(t){a(u(t),"core.use.api : additional api is not an object",t),Object.assign(d,t)}),d.use.on("primary",function(t){a(i(t),"core.use.primary : primary is not a function",t),r=t}),e.forEach(function(t){t(d,n)}),o(t)&&d.use({target:t}),d};return s()&&(d.kit=f.kit,d.version="2.0.0",o(window.okwolo)||(window.okwolo=d),window.okwolo[f.kit]=d),d}},function(t,n,e){"use strict";var r=e(0)(),i=r.assert,o=r.isDefined,u=r.isFunction;t.exports=function(t){var n=t.emit,e=t.use,r=void 0,a=void 0,s=void 0,c=void 0,f=void 0,d=void 0,l=void 0,p=void 0,v=void 0,h=function(t){var n=a(t);return c&&(n=c(n)),n=s(n),f&&(n=f(n)),n};e.on("target",function(t){r=t,n({update:!0})}),e.on("builder",function(t){i(u(t),"view.use.builder : builder is not a function",t),a=t,n({update:!1})}),e.on("draw",function(t){i(u(t),"view.use.draw : new draw is not a function",t),d=t,n({update:!0})}),e.on("update",function(t){i(u(t),"view.use.update : new target updater is not a function",t),l=t,n({update:!1})}),e.on("build",function(t){i(u(t),"view.use.build : new build is not a function",t),s=t,n({update:!1})}),e.on("prebuild",function(t){i(u(t),"view.use.prebuild : new prebuild is not a function",t),c=t,n({update:!1})}),e.on("postbuild",function(t){i(u(t),"view.use.postbuild : new postbuild is not a function",t),f=t,n({update:!1})}),n.on("state",function(t){i(o(t),"view.emit.state : new state is not defined",t),v=t,n({update:!1})});var b=!1,g=!1;n.on("update",function(t){if(!g){if(!(o(r)&&o(a)&&o(v)&&o(s)))return;g=!0}t||!b?(p=d(r,h(v)),b=!0):p=l(r,h(v),p)}),e({api:{update:function(){return n({update:!1})}}}),e({primary:function(t){return e({builder:t()})}})}},function(t,n,e){"use strict";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var i=function(){function t(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e(0)(),u=o.assert,a=o.isDefined,s=o.isNull,c=o.isArray,f=o.isString,d=o.isNumber,l=o.isBoolean,p=o.isObject,v=o.isFunction,h=function t(){for(var n=arguments.length,e=Array(n),i=0;i<n;i++)e[i]=arguments[i];return e.map(function(n){return f(n)?n:c(n)?t.apply(void 0,r(n)):p(n)?t(Object.keys(n).map(function(t){return n[t]&&t})):void 0}).filter(Boolean).join(" ")},b=function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["root"];if(l(n)&&(n=null),s(n))return{text:""};if(d(n)&&(n=String(n)),f(n))return{text:n};if(u(c(n),"view.build : vdom object is not a recognized type",e,n),v(n[0])){var r=i(n,3),o=r[0],b=r[1],g=void 0===b?{}:b,m=r[2],w=void 0===m?[]:m;return u(p(g),"view.build : component's props is not an object",e,n,g),u(c(w),"view.build : component's children is not an array",e,n,w),t(o(Object.assign({},g,{children:w}),e))}var y=i(n,3),O=y[0],x=y[1],j=void 0===x?{}:x,D=y[2],M=void 0===D?[]:D;u(f(O),"view.build : tag property is not a string",e,n,O),u(p(j),"view.build : attributes is not an object",e,n,j),u(c(M),"view.build : children of vdom object is not an array",e,n,M);var k=/^ *(\w+) *(?:#([-\w\d]+))? *((?:\.[-\w\d]+)*)? *(?:\|\s*([^\s]{1}[^]*?))? *$/.exec(O);u(c(k),"view.build : tag property cannot be parsed",e,O);var N=i(k,5),A=N[1],S=N[2],E=N[3],F=N[4];return a(S)&&!a(j.id)&&(j.id=S.trim()),(a(j.className)||a(E))&&(j.className=h(j.className,E).replace(/\./g," ").replace(/  +/g," ").trim()),a(F)&&(a(j.style)?(F=(F+";").replace(/;;$/g,";"),j.style=F+j.style):j.style=F),e.push(O),{tagName:A,attributes:j,children:M.map(function(n){return t(n,e)})}};t.exports=function(t){(0,t.use)({build:b})}},function(t,n,e){"use strict";var r=e(0)(),i=r.assert,o=r.isDefined,u=r.isNode,a=r.isFunction,s=function(t,n){return Object.keys(Object.assign({},t,n)).filter(function(e){var r=t[e],i=n[e];return!(!a(r)&&!a(i))||r!==i})};t.exports=function(t,n){var e=function t(e){if(o(e.text))return e.DOM=n.document.createTextNode(e.text),e;var r=n.document.createElement(e.tagName);return Object.assign(r,e.attributes),Object.keys(e.children).forEach(function(n){var i=t(e.children[n]).DOM;r.appendChild(i)}),e.DOM=r,e};(0,t.use)({draw:function(t,r){return i(u(t),"view.dom.draw : target is not a DOM node",t),e(r),n.requestAnimationFrame(function(){t.innerHTML="",t.appendChild(r.DOM)}),r},update:function(t,r,a){i(u(t),"view.dom.update : target is not a DOM node",t);var c=function t(n,r,i,u){if(o(n)||o(r)){if(!o(n))return i.children[u]=e(r),void i.DOM.appendChild(i.children[u].DOM);if(!o(r))return i.DOM.removeChild(n.DOM),void delete i.children[u];if(n.tagName!==r.tagName){var a=n.DOM,c=e(r);return i.DOM.replaceChild(c.DOM,a),void Object.assign(n,{DOM:void 0,text:void 0,tagName:void 0,attributes:void 0,children:void 0},c)}if(3!==n.DOM.nodeType){s(n.attributes,r.attributes).forEach(function(t){n.attributes[t]=r.attributes[t],n.DOM[t]=r.attributes[t]});for(var f=Math.max(n.children.length,r.children.length),d=0;d<f;++d)t(n.children[d],r.children[d],n,d)}else n.text!==r.text&&(n.DOM.nodeValue=r.text,n.text=r.text)}};return n.requestAnimationFrame(function(){c(a,r,{DOM:t,children:[a]},0)}),a}})}},function(t,n,e){"use strict";var r=e(0)(),i=r.assert,o=r.isString,u=r.isObject,a=r.isFunction,s=r.makeQueue;t.exports=function(t,n){var e=t.emit,r=t.use,c=null!==n.document.origin&&"null"!==n.document.origin,f="",d=void 0,l=void 0,p=void 0,v=!1,h=s(),b=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];i(a(p),"router : fetch is not a function",p),p.apply(void 0,[d].concat(n))},g=function(t){var n=f.replace(/([^\w])/g,"\\$1");return t.replace(new RegExp("^"+n),"")||""},m=n.location.pathname;c||(m=""),n.onpopstate=function(){m=g(n.location.pathname),b(m)},r.on("route",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.path,e=t.handler;i(o(n),"router.use.route : path is not a string",n),i(a(e),"router.use.route : handler is not a function",n,e),i(a(l),"route.use.route : register is not a function",l),d=l(d,n,e),v||(v=!!b(m))}),r.on("base",function(t){i(o(t),"router.use.base : base url is not a string",t),f=t,m=g(m),b(m)}),r.on("register",function(t){i(a(t),"router.use.register : register is not a function",l),l=t}),r.on("fetch",function(t){i(a(t),"router.use.fetch : fetch is not a function",p),p=t}),e.on("redirect",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.path,r=t.params,a=void 0===r?{}:r;i(o(e),"router.redirect : path is not a string",e),i(u(a),"router.redirect : params is not an object",a),h.add(function(){m=e,c?n.history.pushState({},"",(f+m).replace(/^\/C\:/,"")):console.log("@okwolo/router:: path changed to\n>>> "+m),b(m,a),h.done()})}),e.on("show",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.path,e=t.params,r=void 0===e?{}:e;i(o(n),"router.show : path is not a string",n),i(u(r),"router.show : params is not an object",r),h.add(function(){b(n,r),h.done()})}),r({api:{redirect:function(t,n){return e({redirect:{path:t,params:n}})},show:function(t,n){return e({show:{path:t,params:n}})}}}),r({primary:function(t,n){r(a(t)?{builder:t()}:{route:{path:t,handler:function(t){r({builder:n(t)})}}})}})}},function(t,n,e){"use strict";t.exports=function(t){(0,t.use)({fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!1;return t.find(function(t){var i=t.pattern.exec(n);if(null!==i)return r=!0,i.shift(),t.keys.forEach(function(t,n){e[t.name]=i[n]}),t.handler(e),r}),r}})}},function(t,n,e){"use strict";var r=/:\w+/g,i=function(t){var n=t.replace(/([^\w:])/g,"\\$1").replace(r,"([^/]*)");return new RegExp("^"+n+"(:?\\?.*)?$")};t.exports=function(t){(0,t.use)({register:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],e=arguments[2],o=(n.match(r)||[]).map(function(t){return{name:t.replace(/^:/g,"")}});return t.push({keys:o,pattern:i(n),handler:e}),t}})}},function(t,n,e){"use strict";var r=e(0)(),i=r.assert,o=r.deepCopy,u=r.isFunction;t.exports=function(t){var n=t.emit,e=t.use,r={},a=r,s=void 0;n.on("state",function(t){a=t}),e.on("handler",function(t){i(u(t),"state.use.handler : handler generator is not a function",t);var n=t(function(){return a});i(u(n),"state.use.handler : handler from generator is not a function",n),s=n}),e({handler:function(){return function(t){n({state:t})}}});e({api:{setState:function(t){var n=u(t)?t(o(a)):t;s(n)},getState:function(){return i(a!==r,"state.getState : cannot get state before it has been set"),o(a)}}})}}]);
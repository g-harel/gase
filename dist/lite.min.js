!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,e){"use strict";var r=function(t){var n=JSON.stringify(t,function(t,n){return"function"==typeof n?n.toString():n},2);return"\n>>> "+String(n).replace(/\n/g,"\n    ")};t.exports.isDefined=function(t){return void 0!==t},t.exports.isNull=function(t){return null===t},t.exports.isArray=function(t){return Array.isArray(t)},t.exports.isFunction=function(t){return"function"==typeof t},t.exports.isString=function(t){return"string"==typeof t},t.exports.isNumber=function(t){return"number"==typeof t},t.exports.isBoolean=function(t){return"boolean"==typeof t},t.exports.isObject=function(t){return!!t&&t.constructor===Object},t.exports.isNode=function(t){return!!(t&&t.tagName&&t.nodeName&&t.ownerDocument&&t.removeAttribute)},t.exports.isRegExp=function(t){return t instanceof RegExp},t.exports.isBrowser=function(){return"undefined"!=typeof window},t.exports.deepCopy=function(t){if(void 0!==t)return JSON.parse(JSON.stringify(t))},t.exports.assert=function(t,n){for(var e=arguments.length,o=Array(e>2?e-2:0),i=2;i<e;i++)o[i-2]=arguments[i];if(!t)throw new Error("@okwolo."+n+o.map(r).join(""))},t.exports.makeQueue=function(){var t=[],n=function(){var n=t[0];n&&n()};return{add:function(e){t.push(e),1===t.length&&n()},done:function(){t.shift(),n()}}}},function(t,n,e){"use strict";var r=e(2);t.exports=r({modules:[e(3),e(4),e(5),e(6),e(7),e(8),e(9)],options:{kit:"lite",browser:!0}})},function(t,n,e){"use strict";var r=e(0),o=r.assert,i=r.isArray,a=r.isBrowser,u=r.isDefined,s=r.isFunction,c=r.isObject,l=r.isString;t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.modules,e=void 0===n?[]:n,r=t.options,d=void 0===r?{}:r;o(i(e),"core : passed modules must be an array"),o(c(d),"core : passed options must be an object");var f=function(t,n){d.browser&&(u(n)||(o(a(),"app : must be run in a browser environment"),n=window));var r=function(){},f=function(){return r.apply(void 0,arguments)};return Object.assign(f,function(){var t={},n={},e=function(n){for(var e=arguments.length,r=Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];o(l(n),"send : event type is not a string",n);var u=t[n];if(i(u))for(var s=0;s<u.length;++s)u[s].apply(u,r)};return{on:function(n,e){o(l(n),"on : handler type is not a string",n),o(s(e),"on : handler is not a function",e),u(t[n])||(t[n]=[]),t[n].push(e)},send:e,use:function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(l(t))e.apply(void 0,["blob."+t].concat(i));else{o(c(t),"use : blob is not an object",t);var s=t.name;if(u(s)){if(o(l(s),"utils.bus : blob name is not a string",s),u(n[s]))return;n[s]=!0}for(var d=Object.keys(t),f=0;f<d.length;++f){var b=d[f];e("blob."+b,t[b])}}}}}()),f.on("blob.api",function(t){o(c(t),"on.blob.api : additional api is not an object",t),Object.assign(f,t)}),f.on("blob.primary",function(t){o(s(t),"on.blob.primary : primary is not a function",t),r=t}),e.forEach(function(t){t({on:f.on,send:f.send},n)}),u(t)&&f.use("target",t),f};return a()&&(f.kit=d.kit,f.version="3.0.0",u(window.okwolo)||(window.okwolo=f),window.okwolo[d.kit]=f),f}},function(t,n,e){"use strict";var r=e(0),o=r.assert,i=r.deepCopy,a=r.isFunction;t.exports=function(t){var n=t.on,e=t.send,r={},u=r,s=void 0;n("state",function(t){u=t}),n("blob.handler",function(t){o(a(t),"on.blob.handler : handler generator is not a function",t);var n=t(function(){return u});o(a(n),"on.blob.handler : handler from generator is not a function",n),s=n}),e("blob.handler",function(){return function(t){e("state",t)}});e("blob.api",{setState:function(t){var n=a(t)?t(i(u)):t;s(n)},getState:function(){return o(u!==r,"state.getState : cannot get state before it has been set"),i(u)}})}},function(t,n,e){"use strict";var r=e(0),o=r.assert,i=r.isDefined,a=r.isFunction;t.exports=function(t){var n=t.on,e=t.send,r=void 0,u=void 0,s=void 0,c=void 0,l=void 0,d=void 0,f=void 0,b=function(t){var n=u(t);return n=s(n)};n("blob.target",function(t){r=t,e("update",!0)}),n("blob.builder",function(t){o(a(t),"on.blob.builder : builder is not a function",t),u=t,e("update",!1)}),n("blob.draw",function(t){o(a(t),"on.blob.draw : new draw is not a function",t),c=t,e("update",!0)}),n("blob.update",function(t){o(a(t),"on.blob.update : new target updater is not a function",t),l=t,e("update",!1)}),n("blob.build",function(t){o(a(t),"on.blob.build : new build is not a function",t),s=t,e("update",!1)}),n("state",function(t){o(i(t),"on.blob.state : new state is not defined",t),f=t,e("update",!1)});var p=!1,v=!1,h=null;n("update",function(t){if(!v){if(!(i(r)&&i(u)&&i(f)&&i(s)))return void(h||(h=setTimeout(function(){var t={build:s,builder:u,state:f,target:r};Object.keys(t).forEach(function(n){t[n]=t[n]?"ok":"waiting"}),o(v,"view : still waiting to draw after "+Math.round(3)+"s",t)},3e3)));v=!0}t||!p?(d=c(r,b(f)),p=!0):d=l(r,b(f),d)}),e("blob.api",{update:function(){return e("update",!1)}}),e("blob.primary",function(t){e("blob.builder",t())})}},function(t,n,e){"use strict";var r=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e(0),i=o.assert,a=o.isArray,u=o.isBoolean,s=o.isDefined,c=o.isFunction,l=o.isNull,d=o.isNumber,f=o.isObject,b=o.isString,p=function t(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];return e.map(function(n){return b(n)?n:a(n)?t.apply(void 0,function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(n)):f(n)?t(Object.keys(n).map(function(t){return n[t]&&t})):void 0}).filter(Boolean).join(" ")},v=function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root";if(u(n)&&(n=null),l(n))return{text:""};if(d(n)&&(n=String(n)),b(n))return{text:n};if(i(a(n),"view.build : vdom object is not a recognized type",e,n),c(n[0])){var o=r(n,3),v=o[0],h=o[1],g=void 0===h?{}:h,y=o[2],m=void 0===y?[]:y;return i(f(g),"view.build : component's props is not an object",e,n,g),i(a(m),"view.build : component's children is not an array",e,n,m),t(v(Object.assign({},g,{children:m}),e))}var w=r(n,3),O=w[0],x=w[1],j=void 0===x?{}:x,D=w[2],M=void 0===D?[]:D;i(b(O),"view.build : tag property is not a string",e,n,O),i(f(j),"view.build : attributes is not an object",e,n,j),i(a(M),"view.build : children of vdom object is not an array",e,n,M);var k=/^ *(\w+) *(?:#([-\w\d]+))? *((?:\.[-\w\d]+)*)? *(?:\|\s*([^\s]{1}[^]*?))? *$/.exec(O);i(a(k),"view.build : tag property cannot be parsed",e,O);var N=r(k,5),A=N[1],S=N[2],C=N[3],E=N[4];s(S)&&!s(j.id)&&(j.id=S.trim()),(s(j.className)||s(C))&&(j.className=p(j.className,C).replace(/\./g," ").replace(/  +/g," ").trim()),s(E)&&(s(j.style)?(E=(E+";").replace(/;;$/g,";"),j.style=E+j.style):j.style=E),e+=" -> "+O;for(var F={},B=[],$=0;$<M.length;++$){var T=$,R=t(M[$],e);R.attributes&&"key"in R.attributes&&(T=R.attributes.key,i(d(T)||b(T),"view.build : invalid element key type",e,T),i(String(T).match(/^[\w\d-_]+$/g),"view.build : invalid character in element key",e,T)),T=String(T),i(!F[T],"view.build : duplicate child key",e,T),B.push(T),F[T]=R}return{tagName:A,attributes:j,children:F,childOrder:B}};t.exports=function(t){(0,t.send)("blob.build",v)}},function(t,n,e){"use strict";var r=e(0),o=r.assert,i=r.isDefined,a=r.isFunction,u=r.isNode;t.exports=function(t,n){var e=t.send,r=function t(e){if(i(e.text))return e.DOM=n.document.createTextNode(e.text),e;var r=n.document.createElement(e.tagName);Object.assign(r,e.attributes);for(var o=0;o<e.childOrder.length;++o){var a=e.childOrder[o],u=t(e.children[a]).DOM;r.appendChild(u)}return e.DOM=r,e};e("blob.draw",function(t,e){return o(u(t),"view.dom.draw : target is not a DOM node",t),r(e),n.requestAnimationFrame(function(){t.innerHTML="",t.appendChild(e.DOM)}),e}),e("blob.update",function(t,e,s){o(u(t),"view.dom.update : target is not a DOM node",t);var c=function t(n,e,o,u){if(!i(n))return o.children[u]=r(e),void o.DOM.appendChild(o.children[u].DOM);if(!i(e))return o.DOM.removeChild(n.DOM),void delete o.children[u];if(n.tagName!==e.tagName){var s=n.DOM,c=r(e);return o.DOM.replaceChild(c.DOM,s),void Object.assign(n,{DOM:void 0,text:void 0,tagName:void 0,attributes:void 0,children:void 0,childOrder:void 0},c)}if(3!==n.DOM.nodeType){for(var l=function(t,n){for(var e=Object.keys(Object.assign({},t,n)),r=[],o=0;o<e.length;++o){var i=e[o],u=t[i],s=n[i];(a(u)||a(s))&&r.push(i),u!==s&&r.push(i)}return r}(n.attributes,e.attributes),d=0;d<l.length;++d){var f=l[d];n.attributes[f]=e.attributes[f],n.DOM[f]=e.attributes[f]}var b=n.childOrder.slice();n.childOrder=e.childOrder;for(var p=Object.keys(Object.assign({},n.children,e.children)),v=0;v<p.length;++v){var h=p[v];n.children[h]?e.children[h]||b.splice(b.indexOf(h),1):b.push(h),t(n.children[h],e.children[h],n,h)}if(b.length){for(var g=function(t,n){for(var e=n.length,r=e/2,o=0,i=0,a=0;a<e;++a){for(var u=t.indexOf(n[a]),s=Math.min(e-u,e-a),c=1,l=1;l<s&&n[a+l]===t[u+l];++l)c+=1;if(c>o&&(o=c,i=a),o>=r)break}return{start:i,end:i+o-1}}(b,e.childOrder),y=g.start,m=g.end,w=e.childOrder.slice(0,y),O=w.length-1;O>=0;--O){var x=w[O];n.DOM.insertBefore(n.children[x].DOM,n.DOM.firstChild)}for(var j=e.childOrder.slice(m+1,1/0),D=0;D<j.length;++D){var M=j[D];n.DOM.appendChild(n.children[M].DOM)}}}else n.text!==e.text&&(n.DOM.nodeValue=e.text,n.text=e.text)};return n.requestAnimationFrame(function(){try{c(s,e,{DOM:t,children:{root:s}},"root")}catch(t){console.error("view.dom.update : "+t)}}),s})}},function(t,n,e){"use strict";var r=e(0),o=r.assert,i=r.isFunction,a=r.isObject,u=r.isString,s=r.makeQueue;t.exports=function(t,n){var e=t.on,r=t.send,c=null!==n.document.origin&&"null"!==n.document.origin,l="",d=void 0,f=void 0,b=void 0,p=!1,v=s(),h=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];o(i(b),"router : fetch is not a function",b),b.apply(void 0,[d].concat(n))},g=function(t){var n=l.replace(/([^\w])/g,"\\$1");return t.replace(new RegExp("^"+n),"")||""},y=n.location.pathname;c||(y=""),n.onpopstate=function(){y=g(n.location.pathname),h(y)},e("blob.route",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.path,e=t.handler;o(u(n),"on.blob.route : path is not a string",n),o(i(e),"on.blob.route : handler is not a function",n,e),o(i(f),"on.blob.route : register is not a function",f),d=f(d,n,e),p||(p=!!h(y))}),e("blob.base",function(t){o(u(t),"on.blob.base : base url is not a string",t),l=t,y=g(y),h(y)}),e("blob.register",function(t){o(i(t),"on.blob.register : register is not a function",f),f=t}),e("blob.fetch",function(t){o(i(t),"on.blob.fetch : fetch is not a function",b),b=t}),e("redirect",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(u(t),"on.redirect : path is not a string",t),o(a(e),"on.redirect : params is not an object",e),v.add(function(){y=t,c?n.history.pushState({},"",(l+y).replace(/^\/C\:/,"")):console.log("@okwolo : path changed to\n>>> "+y),h(y,e),v.done()})}),e("show",function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(u(t),"on.show : path is not a string",t),o(a(n),"on.show : params is not an object",n),v.add(function(){h(t,n),v.done()})}),r("blob.api",{redirect:function(t,n){return r("redirect",t,n)},show:function(t,n){return r("show",t,n)}}),r("blob.primary",function(t,n){i(t)?r("blob.builder",t()):r("blob.route",{path:t,handler:function(t){r("blob.builder",n(t))}})})}},function(t,n,e){"use strict";t.exports=function(t){(0,t.send)("blob.fetch",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!1;return t.find(function(t){var o=t.pattern.exec(n);if(null!==o)return r=!0,o.shift(),t.keys.forEach(function(t,n){e[t.name]=o[n]}),t.handler(e),r}),r})}},function(t,n,e){"use strict";var r=/:\w+/g;t.exports=function(t){(0,t.send)("blob.register",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],e=arguments[2],o=(n.match(r)||[]).map(function(t){return{name:t.replace(/^:/g,"")}});return t.push({keys:o,pattern:function(t){var n=t.replace(/([^\w:])/g,"\\$1").replace(r,"([^/]*)");return new RegExp("^"+n+"(:?\\?.*)?$")}(n),handler:e}),t})}}]);
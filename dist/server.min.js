!function(n){function t(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};t.m=n,t.c=r,t.d=function(n,r,e){t.o(n,r)||Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:e})},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,"a",r),r},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=1)}([function(n,t,r){"use strict";var e=function(n){var t=JSON.stringify(n,function(n,t){return"function"==typeof t?t.toString():t},2);return"\n>>> "+String(t).replace(/\n/g,"\n    ")};n.exports.isDefined=function(n){return void 0!==n},n.exports.isNull=function(n){return null===n},n.exports.isArray=function(n){return Array.isArray(n)},n.exports.isFunction=function(n){return"function"==typeof n},n.exports.isString=function(n){return"string"==typeof n},n.exports.isNumber=function(n){return"number"==typeof n},n.exports.isBoolean=function(n){return"boolean"==typeof n},n.exports.isObject=function(n){return!!n&&n.constructor===Object},n.exports.isNode=function(n){return!!(n&&n.tagName&&n.nodeName&&n.ownerDocument&&n.removeAttribute)},n.exports.isRegExp=function(n){return n instanceof RegExp},n.exports.isBrowser=function(){return"undefined"!=typeof window},n.exports.deepCopy=function(n){if(void 0!==n)return JSON.parse(JSON.stringify(n))},n.exports.assert=function(n,t){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];if(!n)throw new Error("@okwolo."+t+o.map(e).join(""))},n.exports.makeQueue=function(){var n=[],t=function(){var t=n[0];t&&t()};return{add:function(r){n.push(r),1===n.length&&t()},done:function(){n.shift(),t()}}}},function(n,t,r){"use strict";var e=r(2);n.exports=e({modules:[r(3),r(4),r(5),r(6)],options:{kit:"server",browser:!1}})},function(n,t,r){"use strict";var e=r(0),o=e.assert,i=e.isArray,a=e.isBrowser,u=e.isDefined,s=e.isFunction,c=e.isObject,f=e.isString;n.exports=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.modules,r=void 0===t?[]:t,e=n.options,l=void 0===e?{}:e;o(i(r),"core : passed modules must be an array"),o(c(l),"core : passed options must be an object");var d=function(n,t){l.browser&&(u(t)||(o(a(),"app : must be run in a browser environment"),t=window));var e=function(){},d=function(){return e.apply(void 0,arguments)};return Object.assign(d,function(){var n={},t={},r=function(t){for(var r=arguments.length,e=Array(r>1?r-1:0),a=1;a<r;a++)e[a-1]=arguments[a];o(f(t),"send : event type is not a string",t);var u=n[t];if(i(u))for(var s=0;s<u.length;++s)u[s].apply(u,e)};return{on:function(t,r){o(f(t),"on : handler type is not a string",t),o(s(r),"on : handler is not a function",r),u(n[t])||(n[t]=[]),n[t].push(r)},send:r,use:function(n){for(var e=arguments.length,i=Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];if(f(n))r.apply(void 0,["blob."+n].concat(i));else{o(c(n),"use : blob is not an object",n);var s=n.name;if(u(s)){if(o(f(s),"utils.bus : blob name is not a string",s),u(t[s]))return;t[s]=!0}for(var l=Object.keys(n),d=0;d<l.length;++d){var b=l[d];r("blob."+b,n[b])}}}}}()),d.on("blob.api",function(n,t){o(c(n),"on.blob.api : additional api is not an object",n),Object.keys(n).forEach(function(r){t||o(!d[r],'on.blob.api : cannot add key "'+r+'" because it is already defined'),d[r]=n[r]})}),d.on("blob.primary",function(n){o(s(n),"on.blob.primary : primary is not a function",n),e=n}),r.forEach(function(n){n({on:d.on,send:d.send},t)}),u(n)&&d.use("target",n),d};return a()&&(d.kit=l.kit,d.version="3.0.0",u(window.okwolo)||(window.okwolo=d),window.okwolo[l.kit]=d),d}},function(n,t,r){"use strict";var e=r(0),o=e.assert,i=e.isDefined,a=e.isFunction;n.exports=function(n){var t=n.on,r=n.send,e=void 0,u=void 0,s=void 0,c=void 0,f=void 0,l=void 0,d=void 0;t("blob.target",function(n){e=n,r("update",!0)}),t("blob.builder",function(n){o(a(n),"on.blob.builder : builder is not a function",n),u=n,r("update",!1)}),t("blob.draw",function(n){o(a(n),"on.blob.draw : new draw is not a function",n),c=n,r("update",!0)}),t("blob.update",function(n){o(a(n),"on.blob.update : new target updater is not a function",n),f=n,r("update",!1)}),t("blob.build",function(n){o(a(n),"on.blob.build : new build is not a function",n),s=n,r("update",!1)}),t("state",function(n){o(i(n),"on.blob.state : new state is not defined",n),d=n,r("update",!1)});var b=!1,p=!1,v=null;t("update",function(n){if(!p){if(!(i(e)&&i(u)&&i(d)))return void(v||(v=setTimeout(function(){var n={builder:u,state:d,target:e};Object.keys(n).forEach(function(t){n[t]=n[t]?"ok":"waiting"}),o(p,"view : still waiting to draw after "+Math.round(3)+"s",n)},3e3)));p=!0}if(n||!b)return l=c(e,s(u(d))),void(b=!0);l=f(e,s(u(d)),[],l)}),t("sync",function(n,t){o(b,"view.sync : cannot sync component before app has drawn"),l=f(e,t,n,l)}),r("blob.api",{update:function(){return r("update",!1)}}),r("blob.primary",function(n){r("blob.builder",n())})}},function(n,t,r){"use strict";var e=function(){return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,t){var r=[],e=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(e=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);e=!0);}catch(n){o=!0,i=n}finally{try{!e&&u.return&&u.return()}finally{if(o)throw i}}return r}(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(0),i=o.assert,a=o.isArray,u=o.isBoolean,s=o.isDefined,c=o.isFunction,f=o.isNull,l=o.isNumber,d=o.isObject,b=o.isString,p=function n(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];return r.map(function(t){return b(t)?t:a(t)?n.apply(void 0,function(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)}(t)):d(t)?n(Object.keys(t).map(function(n){return t[n]&&n})):void 0}).filter(Boolean).join(" ")};n.exports=function(n){var t=n.send;t("blob.build",function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=null;return{addKey:function(r){return n([{key:r}].concat(t))},addTag:function(r){if(0===t.length)return n([{tag:r}]);var e=t.slice();return e[0].tag=r,n(e)},f:function(){if(!f(r))return r;r="root";for(var n=t.length-1;n>=0;--n){r+=" -> ";var e=t[n],o=e.tag,i=e.key;b(o)?r+=o.replace(/\|\s*[^]*$/g,"| ..."):r+="{{"+i+"}}"}return r},keyList:function(){for(var n=[],r=Math.max(0,t.length-2);r>=0;--r)n.push(String(t[r].key));return n}}}();if(u(r)&&(r=null),f(r))return{text:""};if(l(r)&&(r=String(r)),b(r))return{text:r};if(i(a(r),"view.build : vdom object is not a recognized type",o.f(),r),c(r[0])){var v=e(r,3),y=v[0],g=v[1],m=void 0===g?{}:g,h=v[2],w=void 0===h?[]:h;i(d(m),"view.build : component's props is not an object",o.f(),r,m),i(a(w),"view.build : component's children is not an array",o.f(),r,w);var x=void 0,k=function(){t("sync",o.keyList(),n(x.apply(void 0,arguments),o))};return x=y(Object.assign({},m,{children:w}),k),n(x(),o)}var j=e(r,3),A=j[0],O=j[1],S=void 0===O?{}:O,N=j[2],E=void 0===N?[]:N;i(b(A),"view.build : tag property is not a string",o.f(),r,A),i(d(S),"view.build : attributes is not an object",o.f(),r,S),i(a(E),"view.build : children of vdom object is not an array",o.f(),r,E);var D=/^ *(\w+) *(?:#([-\w\d]+))? *((?:\.[-\w\d]+)*)? *(?:\|\s*([^\s]{1}[^]*?))? *$/.exec(A);i(a(D),"view.build : tag property cannot be parsed",o.f(),A);var F=e(D,5),B=F[1],T=F[2],$=F[3],C=F[4];s(T)&&!s(S.id)&&(S.id=T.trim()),(s(S.className)||s($))&&(S.className=p(S.className,$).replace(/\./g," ").replace(/  +/g," ").trim()),s(C)&&(s(S.style)?(C=(C+";").replace(/;;$/g,";"),S.style=C+S.style):S.style=C),o=o.addTag(A);for(var J={},L=[],M=0;M<E.length;++M){var _=E[M],K=M,P=n(_,o.addKey(K));P.attributes&&"key"in P.attributes&&(K=P.attributes.key,i(l(K)||b(K),"view.build : invalid element key type",o.f(),K),i(String(K).match(/^[\w\d-_]+$/g),"view.build : invalid character in element key",o.f(),K)),K=String(K),i(!J[K],"view.build : duplicate child key",o.f(),K),L.push(K),J[K]=P}return{tagName:B,attributes:S,children:J,childOrder:L}})}},function(n,t,r){"use strict";var e=r(0),o=e.assert,i=e.isDefined,a=e.isFunction,u={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s=function(n,t){o(a(n),"view.string.draw : target is not a function",n);n(function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""};if(i(t.text))return[t.text];var r=t.tagName,e=t.attributes,o=void 0===e?{}:e,a=t.children,s=void 0===a?{}:a,c=t.childOrder,f=void 0===c?[]:c,l=Object.keys(o).map(function(n){return"className"===n&&(n="class",o.class=o.className),n+'="'+o[n].toString()+'"'}).join(" ");if(r=r.toLowerCase(),i(u[r])&&f.length<1)return["<"+(r+" "+l).trim()+" />"];var d=f.map(function(n){return s[n]}).reduce(function(t,r){return t.concat(n(r))},[]).map(function(n){return"  "+n});return["<"+(r+" "+l).trim()+">"].concat(function(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)}(d),["</"+r+">"])}(t).join("\n"))};n.exports=function(n){var t=n.send;t("blob.draw",s),t("blob.update",s)}},function(n,t,r){"use strict";var e=r(0),o=e.assert,i=e.deepCopy,a=e.isFunction;n.exports=function(n){var t=n.on,r=n.send,e={},u=e,s=void 0;t("state",function(n){u=n}),t("blob.handler",function(n){o(a(n),"on.blob.handler : handler generator is not a function",n);var t=n(function(){return u});o(a(t),"on.blob.handler : handler from generator is not a function",t),s=t}),r("blob.handler",function(){return function(n){r("state",n)}});r("blob.api",{setState:function(n){var t=a(n)?n(i(u)):n;s(t)},getState:function(){return o(u!==e,"state.getState : cannot get state before it has been set"),i(u)}})}}]);
!function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,e){"use strict";var r=function(t){var n=JSON.stringify(t,function(t,n){return"function"==typeof n?n.toString():n},2);return"\n>>> "+String(n).replace(/\n/g,"\n    ")};t.exports.isDefined=function(t){return void 0!==t},t.exports.isNull=function(t){return null===t},t.exports.isArray=function(t){return Array.isArray(t)},t.exports.isFunction=function(t){return"function"==typeof t},t.exports.isString=function(t){return"string"==typeof t},t.exports.isNumber=function(t){return"number"==typeof t},t.exports.isBoolean=function(t){return"boolean"==typeof t},t.exports.isObject=function(t){return!!t&&t.constructor===Object},t.exports.isNode=function(t){return!!(t&&t.tagName&&t.nodeName&&t.ownerDocument&&t.removeAttribute)},t.exports.isRegExp=function(t){return t instanceof RegExp},t.exports.isBrowser=function(){return"undefined"!=typeof window},t.exports.deepCopy=function(t){if(void 0!==t)return JSON.parse(JSON.stringify(t))},t.exports.assert=function(t,n){for(var e=arguments.length,i=Array(e>2?e-2:0),o=2;o<e;o++)i[o-2]=arguments[o];if(!t){console.log("[35mabc[0m");throw("@okwolo."+n).replace(/(@okwolo(:?\..+)*) : (.*)/g,function(){}),new Error("@okwolo."+n+i.map(r).join(""))}},t.exports.makeQueue=function(){var t=[],n=function(){var n=t[0];n&&n()};return{add:function(e){t.push(e),1===t.length&&n()},done:function(){t.shift(),n()}}}},function(t,n,e){"use strict";var r=e(2);t.exports=r({modules:[e(3),e(4),e(5),e(6)],options:{kit:"server",browser:!1}})},function(t,n,e){"use strict";var r=e(0),i=r.assert,o=r.isArray,a=r.isBrowser,u=r.isDefined,s=r.isFunction,c=r.isObject,f=r.isString;t.exports=function(t){var n=t.modules,e=void 0===n?[]:n,r=t.options,l=void 0===r?{}:r;i(!1,"test : test"),i(o(e),"core : passed modules must be an array"),i(c(l),"core : passed options must be an object");var d=function(t,n){l.browser&&(u(n)||(i(a(),"app : must be run in a browser environment"),n=window));var r=function(){},d=function(){return r.apply(void 0,arguments)};return Object.assign(d,function(){var t={},n={},e=function(n){for(var e=arguments.length,r=Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];i(f(n),"send : event type is not a string",n);var u=t[n];if(o(u))for(var s=0;s<u.length;++s)u[s].apply(u,r)};return{on:function(n,e){i(f(n),"on : handler type is not a string",n),i(s(e),"on : handler is not a function",e),u(t[n])||(t[n]=[]),t[n].push(e)},send:e,use:function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];if(f(t))e.apply(void 0,["blob."+t].concat(o));else{i(c(t),"use : blob is not an object",t);var s=t.name;if(u(s)){if(i(f(s),"utils.bus : blob name is not a string",s),u(n[s]))return;n[s]=!0}for(var l=Object.keys(t),d=0;d<l.length;++d){var p=l[d];e("blob."+p,t[p])}}}}}()),d.on("blob.api",function(t){i(c(t),"on.blob.api : additional api is not an object",t),Object.assign(d,t)}),d.on("blob.primary",function(t){i(s(t),"on.blob.primary : primary is not a function",t),r=t}),e.forEach(function(t){t({on:d.on,send:d.send},n)}),u(t)&&d.use("target",t),d};return a()&&(d.kit=l.kit,d.version="3.0.0",u(window.okwolo)||(window.okwolo=d),window.okwolo[l.kit]=d),d}},function(t,n,e){"use strict";var r=e(0),i=r.assert,o=r.isDefined,a=r.isFunction;t.exports=function(t){var n=t.emit,e=t.use,r=void 0,u=void 0,s=void 0,c=void 0,f=void 0,l=void 0,d=void 0,p=function(t){var n=u(t);return n=s(n)};e.on("target",function(t){r=t,n({update:!0})}),e.on("builder",function(t){i(a(t),"view.use.builder : builder is not a function",t),u=t,n({update:!1})}),e.on("draw",function(t){i(a(t),"view.use.draw : new draw is not a function",t),c=t,n({update:!0})}),e.on("update",function(t){i(a(t),"view.use.update : new target updater is not a function",t),f=t,n({update:!1})}),e.on("build",function(t){i(a(t),"view.use.build : new build is not a function",t),s=t,n({update:!1})}),n.on("state",function(t){i(o(t),"view.emit.state : new state is not defined",t),d=t,n({update:!1})});var v=!1,b=!1,y=null;n.on("update",function(t){if(!b){if(!(o(r)&&o(u)&&o(d)&&o(s)))return void(y||(y=setTimeout(function(){var t={build:s,builder:u,state:d,target:r};Object.keys(t).forEach(function(n){t[n]=t[n]?"ok":"waiting"}),i(b,"view : still waiting to draw after "+Math.round(3)+"s",t)},3e3)));b=!0}t||!v?(l=c(r,p(d)),v=!0):l=f(r,p(d),l)}),e({api:{update:function(){return n({update:!1})}}}),e({primary:function(t){return e({builder:t()})}})}},function(t,n,e){"use strict";var r=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=e(0),o=i.assert,a=i.isDefined,u=i.isNull,s=i.isArray,c=i.isString,f=i.isNumber,l=i.isBoolean,d=i.isObject,p=i.isFunction,v=function t(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];return e.map(function(n){return c(n)?n:s(n)?t.apply(void 0,function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(n)):d(n)?t(Object.keys(n).map(function(t){return n[t]&&t})):void 0}).filter(Boolean).join(" ")},b=function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root";if(l(n)&&(n=null),u(n))return{text:""};if(f(n)&&(n=String(n)),c(n))return{text:n};if(o(s(n),"view.build : vdom object is not a recognized type",e,n),p(n[0])){var i=r(n,3),b=i[0],y=i[1],g=void 0===y?{}:y,m=i[2],w=void 0===m?[]:m;return o(d(g),"view.build : component's props is not an object",e,n,g),o(s(w),"view.build : component's children is not an array",e,n,w),t(b(Object.assign({},g,{children:w}),e))}var h=r(n,3),x=h[0],j=h[1],k=void 0===j?{}:j,A=h[2],O=void 0===A?[]:A;o(c(x),"view.build : tag property is not a string",e,n,x),o(d(k),"view.build : attributes is not an object",e,n,k),o(s(O),"view.build : children of vdom object is not an array",e,n,O);var N=/^ *(\w+) *(?:#([-\w\d]+))? *((?:\.[-\w\d]+)*)? *(?:\|\s*([^\s]{1}[^]*?))? *$/.exec(x);o(s(N),"view.build : tag property cannot be parsed",e,x);var S=r(N,5),D=S[1],E=S[2],F=S[3],B=S[4];a(E)&&!a(k.id)&&(k.id=E.trim()),(a(k.className)||a(F))&&(k.className=v(k.className,F).replace(/\./g," ").replace(/  +/g," ").trim()),a(B)&&(a(k.style)?(B=(B+";").replace(/;;$/g,";"),k.style=B+k.style):k.style=B),e+=" -> "+x;for(var C={},J=[],$=0;$<O.length;++$){var _=$,M=t(O[$],e);M.attributes&&"key"in M.attributes&&(_=M.attributes.key,o(f(_)||c(_),"view.build : invalid element key type",e,_),o(String(_).match(/^[\w\d-_]+$/g),"view.build : invalid character in element key",e,_)),_=String(_),o(!C[_],"view.build : duplicate child key",e,_),J.push(_),C[_]=M}return{tagName:D,attributes:k,children:C,childOrder:J}};t.exports=function(t){(0,t.use)({build:b})}},function(t,n,e){"use strict";var r=e(0),i=r.assert,o=r.isDefined,a=r.isFunction,u={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s=function(t,n){i(a(t),"view.string.draw : target is not a function",t);t(function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""};if(o(n.text))return[n.text];var e=n.tagName,r=n.attributes,i=void 0===r?{}:r,a=n.children,s=void 0===a?{}:a,c=n.childOrder,f=void 0===c?[]:c,l=Object.keys(i).map(function(t){return"className"===t&&(t="class",i.class=i.className),t+'="'+i[t].toString()+'"'}).join(" ");if(e=e.toLowerCase(),o(u[e])&&f.length<1)return["<"+(e+" "+l).trim()+" />"];var d=f.map(function(t){return s[t]}).reduce(function(n,e){return n.concat(t(e))},[]).map(function(t){return"  "+t});return["<"+(e+" "+l).trim()+">"].concat(function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(d),["</"+e+">"])}(n).join("\n"))};t.exports=function(t){t.emit;(0,t.use)({draw:s,update:s})}},function(t,n,e){"use strict";var r=e(0),i=r.assert,o=r.deepCopy,a=r.isFunction;t.exports=function(t){var n=t.on,e=t.send,r={},u=r,s=void 0;n("state",function(t){u=t}),n("blob.handler",function(t){i(a(t),"on.blob.handler : handler generator is not a function",t);var n=t(function(){return u});i(a(n),"on.blob.handler : handler from generator is not a function",n),s=n}),e("blob.handler",function(){return function(t){e("state",t)}});e("blob.api",{setState:function(t){var n=a(t)?t(o(u)):t;s(n)},getState:function(){return i(u!==r,"state.getState : cannot get state before it has been set"),o(u)}})}}]);
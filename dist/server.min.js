!function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,e){"use strict";var r=function(){var t=function(t){return void 0!==t},n=function(t){return null===t},e=function(t){return Array.isArray(t)},r=function(t){return"function"==typeof t},i=function(t){return"string"==typeof t},o=function(t){return"number"==typeof t},u=function(t){return"boolean"==typeof t},a=function(t){return!!t&&t.constructor===Object},s=function(t){return!!(t&&t.tagName&&t.nodeName&&t.ownerDocument&&t.removeAttribute)},c=function(t){return t instanceof RegExp},d=function(){return"undefined"!=typeof window},f=function(n){if(t(n))return JSON.parse(JSON.stringify(n))},l=function(t,n){for(var e=arguments.length,r=Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];var o=function(t){return"\n>>> "+String(JSON.stringify(t,function(t,n){return"function"==typeof n?n.toString():n},2)).replace(/\n/g,"\n    ")};if(!t)throw new Error("@okwolo."+n+r.map(o).join(""))};return{deepCopy:f,assert:l,isDefined:t,isNull:n,isArray:e,isFunction:r,isString:i,isNumber:o,isBoolean:u,isObject:a,isNode:s,isRegExp:c,isBrowser:d,makeQueue:function(){var n=[],e=function(){var e=n[0];t(e)&&e()};return{add:function(t){l(r(t),"utils.makeQueue.add : added objects must be a function",t),n.push(t),1===n.length&&e()},done:function(){n.shift(),e()}}},makeBus:function(){var n={},e={},o=function(e,o){l(i(e),"utils.bus : handler type is not a string",e),l(r(o),"utils.bus : handler is not a function",o),t(n[e])||(n[e]=[]),n[e].push(o)},u=function(r){l(a(r),"utils.bus : event is not an object",r);var o=r.name;if(t(o)){if(l(i(o),"utils.bus : event name is not a string",o),t(e[o]))return;e[o]=!0}Object.keys(r).forEach(function(e){t(n[e])&&n[e].forEach(function(t){return t(r[e])})})};return Object.assign(u,{on:o})}}};t.exports=r},function(t,n,e){"use strict";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var i=e(2),o=e(0)(),u=o.assert,a=o.isDefined,s=o.isFunction,c={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},d=function(t,n){u(s(t),"server.dom.draw : target is not a function",t);t(function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""};if(a(n.text))return[n.text];var e=n.tagName,i=n.attributes,o=void 0===i?{}:i,u=n.children,s=void 0===u?[]:u,d=Object.keys(o).map(function(t){return"className"===t&&(t="class",o.class=o.className),t+'="'+o[t].toString()+'"'}).join(" ");if(e=e.toLowerCase(),a(c[e])&&s.length<1)return["<"+(e+" "+d).trim()+" />"];var f=s.reduce(function(n,e){return n.concat(t(e))},[]).map(function(t){return"  "+t});return["<"+(e+" "+d).trim()+">"].concat(r(f),["</"+e+">"])}(n).join("\n"))},f=function(t){return{name:"okwolo-server-render",draw:d,update:d,api:{setState:function(n){return t.emit({state:n})}}}};t.exports=i({modules:[e(3)],blobs:[e(4),f],options:{kit:"server",browser:!1,modules:{state:!1,history:!1,dom:!0,router:!1}}})},function(t,n,e){"use strict";var r=e(0)(),i=r.isFunction,o=r.isDefined,u=r.isObject,a=r.assert,s=r.isBrowser,c=r.makeBus,d=function(t){var n=t.modules,e=t.blobs,r=t.options,d=function(t,d){r.browser&&(o(d)||(a(s(),"app : must be run in a browser environment"),d=window));var f=c(),l=c(),m=function(){},p=function(){return m.apply(void 0,arguments)};return p.emit=f,p.use=l,l.on("api",function(t){a(u(t),"core.use.api : additional api is not an object",t),Object.assign(p,t)}),l.on("primary",function(t){a(i(t),"core.use.primary : primary is not a function",t),m=t}),n.forEach(function(t){t({emit:f,use:l},d)}),e.forEach(function(t){l(t(p,d))}),o(t)&&l({target:t}),p};return s()&&(d.kit=r.kit,d.version="1.3.0",o(window.okwolo)||(window.okwolo=d),window.okwolo[r.kit]=d),d};t.exports=d},function(t,n,e){"use strict";var r=e(0)(),i=r.assert,o=r.isDefined,u=r.isFunction,a=function(t,n){var e=t.emit,r=t.use,a=void 0,s=void 0,c=void 0,d=void 0,f=void 0,l=void 0,m=void 0,p=void 0,b=void 0,v=function(t){var n=s(t);return d&&(n=d(n)),n=c(n),f&&(n=f(n)),n},y=!1,g=!1,h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!y;if(!g){if(!(o(a)&&o(s)&&o(b)&&o(c)))return;g=!0}if(!t)return void(p=m(a,v(b),p));p=l(a,v(b)),y=!0};e.on("state",function(t){i(o(t),"dom.emit.state : new state is not defined",t),b=t,h()}),r.on("target",function(t){a=t,h(!0)}),r.on("builder",function(t){i(u(t),"dom.use.builder : builder is not a function",t),s=t,h()}),r.on("draw",function(t){i(u(t),"dom.use.draw : new draw is not a function",t),l=t,h(!0)}),r.on("update",function(t){i(u(t),"dom.use.update : new target updater is not a function",t),m=t,h()}),r.on("build",function(t){i(u(t),"dom.use.build : new build is not a function",t),c=t,h()}),r.on("prebuild",function(t){i(u(t),"dom.use.prebuild : new prebuild is not a function",t),d=t,h()}),r.on("postbuild",function(t){i(u(t),"dom.use.postbuild : new postbuild is not a function",t),f=t,h()}),r({api:{update:function(){h()}}}),r({primary:function(t){r({builder:t()})}})};t.exports=a},function(t,n,e){"use strict";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var i=function(){function t(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e(0)(),u=o.assert,a=o.isDefined,s=o.isNull,c=o.isArray,d=o.isString,f=o.isNumber,l=o.isBoolean,m=o.isNode,p=o.isObject,b=o.isFunction,v=function t(){for(var n=arguments.length,e=Array(n),i=0;i<n;i++)e[i]=arguments[i];return e.map(function(n){return d(n)?n:c(n)?t.apply(void 0,r(n)):p(n)?t(Object.keys(n).map(function(t){return n[t]&&t})):void 0}).filter(Boolean).join(" ")},y=function(t,n){return Object.keys(Object.assign({},t,n)).filter(function(e){var r=t[e],i=n[e];return!(!b(r)&&!b(i))||r!==i})},g=function t(n){if(l(n)&&(n=null),s(n))return{text:""};if(f(n)&&(n=String(n)),d(n))return{text:n};if(u(c(n),"dom.build : vdom object is not a recognized type",n),b(n[0])){var e=n,r=i(e,3),o=r[0],m=r[1],y=void 0===m?{}:m,g=r[2],h=void 0===g?[]:g;return u(p(y),"dom.build : component's props is not an object",n,y),u(c(h),"dom.build : component's children is not an array",n,h),t(o(Object.assign({},y,{children:h})))}var w=n,O=i(w,3),j=O[0],x=O[1],D=void 0===x?{}:x,N=O[2],k=void 0===N?[]:N;u(d(j),"dom.build : tag property is not a string",n,j),u(p(D),"dom.build : attributes is not an object",n,D),u(c(k),"dom.build : children of vdom object is not an array",n,k);var M=/^ *(\w+) *(?:#([-\w\d]+))? *((?:\.[-\w\d]+)*)? *(?:\|\s*([^\s]{1}[^]*?))? *$/.exec(j);u(c(M),"dom.build : tag property cannot be parsed",j);var A=i(M,5),S=A[1],E=A[2],B=A[3],C=A[4];return a(E)&&!a(D.id)&&(D.id=E.trim()),(a(D.className)||a(B))&&(D.className=v(D.className,B).replace(/\./g," ").replace(/  +/g," ").trim()),a(C)&&(a(D.style)?(C=(C+";").replace(/;;$/g,";"),D.style+=C+D.style):D.style=C),{tagName:S,attributes:D,children:k.map(t)}},h=function(t,n){var e=function t(e){if(a(e.text))return e.DOM=n.document.createTextNode(e.text),e;var r=n.document.createElement(e.tagName);return Object.assign(r,e.attributes),Object.keys(e.children).forEach(function(n){var i=t(e.children[n]),o=i.DOM;r.appendChild(o)}),e.DOM=r,e};return{name:"@okwolo/dom",draw:function(t,r){return u(m(t),"dom.draw : target is not a DOM node",t),e(r),n.requestAnimationFrame(function(){t.innerHTML="",t.appendChild(r.DOM)}),r},update:function(t,r,i){u(m(t),"dom.update : target is not a DOM node",t);var o=function t(n,r,i,o){if(a(n)||a(r)){if(!a(n))return i.children[o]=e(r),void i.DOM.appendChild(i.children[o].DOM);if(!a(r))return i.DOM.removeChild(n.DOM),void delete i.children[o];if(n.tagName!==r.tagName){var u=n.DOM,s=e(r);return i.DOM.replaceChild(s.DOM,u),void Object.assign(n,{DOM:void 0,text:void 0,tagName:void 0,attributes:void 0,children:void 0},s)}if(3===n.DOM.nodeType)return void(n.text!==r.text&&(n.DOM.nodeValue=r.text,n.text=r.text));y(n.attributes,r.attributes).forEach(function(t){n.attributes[t]=r.attributes[t],n.DOM[t]=r.attributes[t]});for(var c=Math.max(n.children.length,r.children.length),d=0;d<c;++d)t(n.children[d],r.children[d],n,d)}};return n.requestAnimationFrame(function(){o(i,r,{DOM:t,children:[i]},0)}),i},build:g}};t.exports=h}]);